<div align="center">
<img width="20%" src="https://user-images.githubusercontent.com/110653581/211257489-34757022-4c71-443f-afe7-94d240788288.png" />
<h2>íŒœíŒœ</h2>
<h3>ë‚´ ì†ìœ¼ë¡œ í‚¤ìš´ ì‘ë¬¼, ì†ì‰½ê²Œ ê±°ë˜í•˜ì„¸ìš”.</h3>
<br>
</div>

# :pushpin: FarmFarm
> **ë†ì‚°ë¬¼ ì§ê±°ë˜ í”Œë«í¼ ë° ë†ì‚¬ ìš©í’ˆ íŒë§¤ ì‡¼í•‘ëª°** <br>
> **[FarmFarm ë°”ë¡œê°€ê¸°](http://129.154.53.250:8080)**

<br>


## 0. ê¸°íšì˜ë„

![header](https://capsule-render.vercel.app/api?type=waving&text=FarmFarm&fontSize=50&fontColor=ffffff&color=097f09&&fontAlign=85&fontAlignY=40)

ìµœê·¼ ê·€ë†, ìˆ²ì„¸ê¶Œ ë“±ì˜ ë‹¨ì–´ì—ì„œ ë³´ì—¬ì§€ë“¯ì´ ìì—°ì— ëŒ€í•œ ê´€ì‹¬ ì¦ê°€í•˜ê³  ìˆë‹¤. 
ì‘ê²ŒëŠ” ì§‘ ë² ë€ë‹¤ í™”ë¶„ì—ì„œë¶€í„° ë‚˜ì•„ê°€ì„œëŠ” ì£¼ë§ë†ì¥, í…ƒë°­ ë“± *ìì—°ì„ ì°¾ëŠ” ìˆ˜ìš”* ë˜í•œ ëŠ˜ì–´ë‚˜ê³  ìˆë‹¤. <br>
ì´ë¿ë§Œ ì•„ë‹ˆë¼ íŒ¬ë°ë¯¹ìœ¼ë¡œ ì¸í•´ ê±´ê°•ì— ê´€í•œ ê´€ì‹¬ì´ ì¦ê°€í•˜ë©´ì„œ ë°”ë¥¸ ë¨¹ê±°ë¦¬ì™€ ê¹¨ë—í•œ ë†ì‚°ë¬¼ì„ ì°¾ëŠ” ì‚¬ëŒë“¤ì´ ë§ì•„ì¡Œê³ , 
ê±´ê°•í•œ ë¨¹ê±°ë¦¬ë¥¼ ì‚´ ìˆ˜ ìˆëŠ” **ì†Œë¹„ì**ì™€ ê±´ê°•í•œ ë¨¹ê±°ë¦¬ë¥¼ íŒ” ìˆ˜ ìˆëŠ” **ìƒì‚°ì ëª¨ë‘ë¥¼ ìœ„í•œ ì‚¬ì´íŠ¸**ì˜ í•„ìš”ì„±ì„ ìê°í•˜ê²Œ ë˜ì—ˆë‹¤. <br>

<br>

**FarmFarm(íŒœíŒœ)** ì€ ì´ëŸ¬í•œ ìˆ˜ìš”ì™€ ìƒì‚°ì„ ì ‘ëª©í•˜ë©´ì„œ ì‹œì‘ë˜ì—ˆë‹¤. <br>
ê±´ê°•í•œ ë¨¹ê±°ë¦¬ë¥¼ ì‚¬ê³ íŒŒëŠ” í”Œë«í¼ì—ì„œ ë©ˆì¶”ì§€ ì•Šê³ , ë¨¹ê±°ë¦¬ë¥¼ ì§ì ‘ ê¸°ë¥´ëŠ” ì‚¬ëŒë“¤ì—ê²Œê¹Œì§€ë„ ë„ì›€ì´ ë  ìˆ˜ ìˆëŠ” í”Œë¨í¼ì„ ì¶”êµ¬í•œë‹¤.<br>

<br>

íŒœíŒœì€, <br>
**_ì†Œë¹„ì_** ë¡œì„œ ê±´ê°•í•œ ë¨¹ê±°ë¦¬ë¥¼ êµ¬ë§¤í•˜ê³ , <br>
**_íŒë§¤ì_** ë¡œì„œ ì§ì ‘ ê¸°ë¥¸ ë†ì‘ë¬¼ì„ ì§ì ‘ íŒë§¤í•˜ê³ , <br>
**_ìƒì‚°ì_** ë¡œì„œ ë†ì‚¬ì— í•„ìš”í•œ ë†ìì¬ êµ¬ë§¤ ë° ì •ë³´ë¥¼ ê³µìœ í•˜ëŠ” <br>
All in One **ê±°ë˜ ì¤‘ê°œ í”Œë«í¼**ì´ë‹¤.

<br>

ğŸ’¡**BenchMarking**ğŸ’¡<br>
ë†ì§, ë§ˆì¼“ì»¬ë¦¬, ë‹¹ê·¼ë§ˆì¼“, ì¿ íŒ¡ ë“±

<br>
<br>

## 1. í”„ë¡œì íŠ¸ ì†Œê°œ
- **ì œì‘ ê¸°ê°„** : 2022ë…„ 12ì›” 12ì¼ ~ 2023ë…„ 1ì›” 11ì¼
- **ì°¸ì—¬ ì¸ì›** : 6ì¸ íŒ€ í”„ë¡œì íŠ¸
- **í”„ë¡œì íŠ¸ ê°œìš”**
  - Javaì™€ Spring í”„ë ˆì„ì›Œí¬ë¥¼ ì´ìš©í•˜ì—¬ ì˜¨ë¼ì¸ ì‡¼í•‘ëª° êµ¬ì¶•
  - ìƒí’ˆ ì •ë³´, ì£¼ë¬¸ ì •ë³´, íšŒì› ì •ë³´ ë“±ì„ ê´€ë¦¬í•˜ëŠ” ê¸°ëŠ¥ ì œê³µ
  - ê°œì¸ê°„ ê±°ë˜, ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ, ì±„íŒ… ë° ì•Œë¦¼ ê¸°ëŠ¥ ì œê³µ
- **ë‹´ë‹¹ ê¸°ëŠ¥**
  - ì „ì²´ í”„ë¡œì íŠ¸ ê¸°íš ë° ê°œë°œ ì°¸ì—¬
  - ì¼ë°˜ íšŒì›, íŒë§¤ì, ê²Œì‹œê¸€, ëŒ“ê¸€ ë“± ëŒ€ìƒë³„ **ì‹ ê³  ê¸°ëŠ¥** êµ¬í˜„
  - **ê´€ë¦¬ì í˜ì´ì§€**ì˜ í¸ì˜ì„± í–¥ìƒì„ ìœ„í•´ AJAX/AXIOSë¥¼ í™œìš©í•œ ê¸°ëŠ¥ êµ¬í˜„
    - íšŒì› ê´€ë¦¬ : íŒë§¤ì ë“±ë¡ ìƒíƒœ, íšŒì› í™œë™ ìƒíƒœì— ë”°ë¥¸ ë¹„ë™ê¸° ì¡°íšŒ
    - ì‹ ê³  ê´€ë¦¬ : ê°•ì œ íƒˆí‡´, ì •ì§€, ê²Œì‹œê¸€ ì‚­ì œ ë“± ì‹ ê³  ì²˜ë¦¬ ê¸°ëŠ¥ êµ¬í˜„
    - í•„í„°, ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜, ê²€ìƒ‰ ê¸°ëŠ¥ 
  - @Scheduledë¥¼ í™œìš©í•˜ì—¬ ì •ì§€ ê³„ì • ìë™ í™œì„±í™”
  - Chart.jsë¥¼ í™œìš©í•œ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ í†µê³„ ê·¸ë˜í”„ êµ¬í˜„

- **ì„±ê³¼**
  - ì˜¨ë¼ì¸ ì‡¼í•‘ëª° í”„ë¡œí† íƒ€ì… ì™„ì„±
  - êµìœ¡ì› ë‚´ í”„ë¡œì íŠ¸ ìµœìš°ìˆ˜ìƒ ìˆ˜ìƒ
  - WBSì— ê³„íší•œ ì¼ì •ì— ë§ì¶° í”„ë¡œì íŠ¸ êµ¬í˜„
  
<br>
<br>

- **í”„ë¡œì íŠ¸ êµ¬ì¡°**
![](https://user-images.githubusercontent.com/110653573/221127291-cec3ff02-76a7-4de3-a5e0-59ac00119050.png)


<br>
<br>

## 2. ì‚¬ìš© ê¸°ìˆ 
<div align="center">
  
### **Back-end**
<img src="https://img.shields.io/badge/Java 11-007396?style=for-the-badge&logo=java&logoColor=white"> 
  <img src="https://img.shields.io/badge/Spring 5.3.14-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
  <img src="https://img.shields.io/badge/Oracle 21C-F80000?style=for-the-badge&logo=oracle&logoColor=white">
  <br>
  <img src="https://img.shields.io/badge/Apache Tomcat 9.0-F8DC75?style=for-the-badge&logo=apachetomcat&logoColor=white">
    <img src="https://img.shields.io/badge/Apache Maven-C71A36?style=for-the-badge&logo=ApacheMaven&logoColor=white">
    <img src="https://img.shields.io/badge/Spring Sequrity-6DB33F?style=for-the-badge&logo=SpringSecurity&logoColor=white">

### **Front-end**
  <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"> 
  <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white"> 
  <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"> 

</div>

<br>
<br>

## 3. ERD ì„¤ê³„
![](https://user-images.githubusercontent.com/110653573/221079293-fcda70a5-1aeb-4744-94cc-6a2033d95ebe.png)

<br>
<br>

## 4. í•µì‹¬ ê¸°ëŠ¥

<br>
	
<details>
<summary><b>4.1. ì‹ ê³ í•˜ê¸°</b></summary>
<div markdown="1">
	
![](https://user-images.githubusercontent.com/110653573/222202403-a3a38c67-fc1b-41f1-8853-d4f022a3f709.png)

#### ì´ 6ê°€ì§€ ì‹ ê³ 
	
### 1. ì‹ ê³  ëŒ€ìƒ êµ¬ë¶„í•˜ê¸° (JS)
	
#### (1) í˜ì´ì§€ë³„ ì‹ ê³  ëŒ€ìƒì´ í•˜ë‚˜ì¸ ê²½ìš° <br>
  - íŒë§¤ì(seller), íŒë§¤ ê²Œì‹œê¸€(post), ì±„íŒ… íšŒì›(chat) <br>
  - ì£¼ì†Œì˜ pathnameì„ ì´ìš©í•˜ì—¬ ì¡°ê±´ì„ ë¶„ë¦¬í•˜ì˜€ë‹¤.
<br>
	
â–¼ JS ì½”ë“œ
	
 ```javascript
 
// pathname: ê° ê¸°ëŠ¥ ë©”ì¸ ì£¼ì†Œ
var pathname = location.pathname.substring(1, location.pathname.lastIndexOf("/"));

// postNo(íŒë§¤ê¸€), sellerì—ì„œ memberNo(íŒë§¤ì)
var targetNo = location.pathname.substring(location.pathname.lastIndexOf("/")+1);

var reportType;
var reportTargetNo;


// ì‹ ê³ í•˜ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ
reportBtn.addEventListener("click", () => {

    if(reportTargetNo == 0){
        messageModalOpen("ê´€ë¦¬ìëŠ” ì‹ ê³  ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤.");
	
    } else{
        openReportModal();  // ì‹ ê³ í•˜ê¸° ëª¨ë‹¬ ì—´ë¦¬ê³  â†’ ì‹ ê³  ì‚¬ìœ  ë“± ì„ íƒí•œ ë’¤ ì‹ ê³ ë²„íŠ¼ ëˆ„ë¥´ë©´ report() í•¨ìˆ˜ ì„ ì–¸
        switch(pathname){
            case 'seller': reportType = 'M'; reportTargetNo = targetNo; break;
            case 'post': reportType = 'P'; reportTargetNo = targetNo; break;
            case 'chat': reportType = 'M'; reportTargetNo = selectedChatNo; break; // chatContext.jsì—ì„œ ì„ ì–¸í•œ ë³€ìˆ˜ ì‚¬ìš©
        }
    }
});

```
<br>

#### (2) í˜ì´ì§€ë³„ ì‹ ê³  ëŒ€ìƒì´ ë‘˜ ì´ìƒì¸ ê²½ìš° (ê° ëŒ€ìƒì˜ ì‹ë³„ ë²ˆí˜¸ ì´ìš©)<br>
  - ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ **ì‘ì„±ì** ì‹ ê³ (íšŒì› ë²ˆí˜¸)<br>
  - ì»¤ë®¤ë‹ˆí‹° **ê²Œì‹œê¸€** ì‹ ê³ (ê²Œì‹œê¸€ ë²ˆí˜¸)<br>
  - ì»¤ë®¤ë‹ˆí‹° **ëŒ“ê¸€** ì‹ ê³ (ëŒ“ê¸€ ë²ˆí˜¸) <br>
 
â€» í˜ì´ì§€ ì•ˆì— ì‹ ê³  ëŒ€ìƒì´ ì—¬ëŸ¬ ê°œì´ê¸° ë•Œë¬¸ì— (1)ì˜ ë°©ë²•ì²˜ëŸ¼ pathnameìœ¼ë¡œ ì‹ ê³  ëŒ€ìƒì„ êµ¬ë¶„í•˜ê¸°ê°€ ì‰½ì§€ ì•Šì•˜ë‹¤. <br>
   ì´ì— ê° ëŒ€ìƒë³„ë¡œ ì¡°ê±´ì„ ë‚˜ëˆ„ì–´ì„œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ íƒí•˜ì˜€ë‹¤.
	

<details>
<summary>JS ì½”ë“œ</summary>
<div markdown="1">

```javascript

// 1) ëŒ“ê¸€ ì‹ ê³ 
for(let i=0; i<reportCommentBtn.length; i++){

    // ëŒ“ê¸€ì˜ ì‹ ê³ í•˜ê¸° ë²„íŠ¼ ëˆ„ë¥´ë©´ (ë³¸ì¸ì˜ ëŒ“ê¸€ì¸ ê²½ìš°, í™”ë©´ì—ì„œ ì‹ ê³ í•˜ê¸° ë²„íŠ¼ ì œê±°)
    reportCommentBtn[i]. addEventListener("click", () => {

	// ì‹ ê³  ëª¨ë‹¬ ì—´ë¦¬ê¸°
	openReportModal();

	// ê° ëŒ“ê¸€ì˜ ëŒ“ê¸€ ë²ˆí˜¸
	const targetCommentNo = document.getElementsByClassName('targetCommentNo');

	// ì‹ ê³ ìœ í˜•, ì‹ ê³ ë²ˆí˜¸ ë§¤ì¹­
	if(targetCommentNo[i] != null){
	    reportType = 'C';
	    reportTargetNo = targetCommentNo[i].value;

	}
    })
}



// 2) ëŒ“ê¸€ ì‘ì„±ì ì‹ ê³ 
document.getElementById('reportMemberBtn').addEventListener('click', () =>{

				    // memberNo = "${loginMember.memberNo}";
				    // ë³¸ì¸ ê³„ì • ì‹ ê³ x
    if(targetMemberNo != null && targetMemberNo != memberNo){
	// ì‹ ê³  ëª¨ë‹¬ ì—´ë¦¬ê¸°
	openReportModal();
	reportType = 'M';
	reportTargetNo = targetMemberNo;
    }

    if(targetMemberNo == memberNo){
	messageModalOpen("ë³¸ì¸ì˜ ê³„ì •ì€ ì‹ ê³ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    }
})



// 3) ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ ì‹ ê³ 
document.getElementById('reportBoardBtn').addEventListener('click', () => {

    if(boardNo != null){
	// ì‹ ê³  ëª¨ë‹¬ ì—´ë¦¬ê¸°
	openReportModal();
	reportType = 'B';
	reportTargetNo = boardNo;
    }
})

```

</div>
</details>

<br>
	
### 2. ì‹ ê³ í•˜ê¸° <br>
	
  - ì‹ ê³ í•˜ê¸°ë¥¼ í´ë¦­í•˜ë©´, ì‹ ê³  ì‚¬ìœ ë¥¼ ì…ë ¥í•˜ëŠ” ëª¨ë‹¬ì°½ì´ ì—´ë¦¬ê²Œ ë˜ê³  
  - ì´ ëª¨ë‹¬ì°½ì—ì„œ ì‹ ê³ í•˜ê¸°ë¥¼ ëˆ„ë¥´ë©´ ì‹ ê³  ì‚¬ìœ ì™€ í•¨ê»˜ ì‹ ê³  ê¸°ëŠ¥ì´ ì²˜ë¦¬ëœë‹¤.
  - <p>ì‹ ê³  ëŒ€ìƒì˜ ë²ˆí˜¸(reportTargetNo), ê³„ì •/ê²Œì‹œê¸€ ë“± ì‹ ê³  ëŒ€ìƒì˜ íƒ€ì…(reportType), ì‹ ê³ ìê°€ ì„ íƒí•œ ì‹ ê³  ì‚¬ìœ (reportReason) ë° <br>
    ì‘ì„±í•œ ì‹ ê³  ì‚¬ìœ (reportContent)ë¥¼ ë‹´ì•„ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì „ë‹¬í•˜ì˜€ê³ , ì´ë¥¼ ì‹ ê³  í…Œì´ë¸”ì— insert í•˜ì˜€ë‹¤.</p>

<details>
<summary>ì‹ ê³  ê¸°ëŠ¥ JS</summary>
<div markdown="1">

```javascript
// ì‹ ê³ í•˜ê¸° ajax
var report = () => {
    $.ajax({
        url: "/report",
        data: { "reportType" :reportType, 
                "reportTargetNo" : reportTargetNo,
                "reportReason" : radioResult,
                "reportContent": reportContent.value},
        type: "POST",
        success: (result) => {
            if(result > 0){
                console.log("ì‹ ê³  ì ‘ìˆ˜");
                reportContainer.style.display = 'none';
                messageModalOpen('ì‹ ê³ ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.');
            
            } else {
                console.log("ì‹ ê³  ì‹¤íŒ¨");
            }
        },
        error: () => {
            console.log("ì‹ ê³  ì˜¤ë¥˜");
        }
    });

}
```

</div>
</details>
<details>
<summary>Controller</summary>
<div markdown="1">

```java
@Controller
public class ReportController {
	
	@Autowired
	private ReportService service;

	// ajax ì´ìš©í•˜ì—¬ ì‹ ê³ í•˜ê¸°
	@PostMapping("/report")
	@ResponseBody
	public int insertReport(@SessionAttribute(value = "loginMember") Member loginMember,
				@RequestParam(value="reportType", required=false) String reportType,
				@RequestParam(value="reportTargetNo", required=false, defaultValue="0") int reportTargetNo,
				@RequestParam(value="reportReason", required=false) String reportReason,
				@RequestParam(value="reportContent", required=false)  String reportContent
				) {

		Map<String, Object> map = new HashMap<String, Object>();
		
		map.put("reportType", reportType);
		map.put("reportTargetNo", reportTargetNo);
		map.put("reportReason", reportReason);
		map.put("reportContent", reportContent);
		map.put("memberNo", loginMember.getMemberNo());
		
		int result = 0;
		
		if(loginMember != null) {
			result = service.insertReport(map);
		}
		
		return result;
	}
}

```

</div>
</details>

<details>
<summary>mapper</summary>
<div markdown="1">

```xml
<insert id="insertReport">
	INSERT INTO REPORT VALUES(SEQ_REPORT_NO.NEXTVAL, #{reportType}, #{memberNo}, #{reportTargetNo}, #{reportReason},
		DEFAULT, NULL, NULL, #{reportContent})
</insert>
```

</div>
</details>

---	
	
</div>
</details>	


<br>
	
<details>
<summary><b>4.2. ajax/axiosë¥¼ í™œìš©í•˜ì—¬ ë¹„ë™ê¸°ë¡œ ê´€ë¦¬ì í˜ì´ì§€ ê¸°ëŠ¥ êµ¬í˜„</b></summary>
<div markdown="1">

	
![](https://user-images.githubusercontent.com/110653573/224872423-32f98f57-d9a5-4c5f-addb-862610668cef.png)
<br>
![](https://user-images.githubusercontent.com/110653573/224874503-dc610f0f-8a04-498a-bcf8-25f4b2eab51c.png)


#### (1) í•„í„°, ê²€ìƒ‰ ê¸°ëŠ¥

  - í•„í„°ì˜ ê²½ìš°, í•„í„° ë³„ë¡œ ê³ ìœ í•œ ì•„ì´ë””ë¥¼ ì£¼ì–´ ì„ íƒë  ë•Œë§ˆë‹¤ ì•„ì´ë””ì˜ ê°’ì„ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì „ë‹¬í•˜ì˜€ê³ ,
  - ê²€ìƒ‰ì˜ ê²½ìš°, ê²€ìƒ‰ì–´ê°€ ì…ë ¥ë  ë•Œë§ˆë‹¤ ê²€ìƒ‰ì–´ë¥¼ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì „ë‹¬í•˜ì˜€ë‹¤.
  - í•„í„° ì•„ì´ë””ì˜ ê°’ê³¼ ê²€ìƒ‰ì–´ëŠ” mapperì—ì„œ ifë¬¸ì„  ê²½ìš°ì˜ ìˆ˜ë¥¼ êµ¬ë¶„í•˜ì—¬ ì ìš©í•˜ì˜€ë‹¤.
  - ê°ê°ì˜ ê²°ê³¼ëŠ” ë¹„ë™ê¸°ë¥¼ ì´ìš©í•˜ì—¬ ìƒˆë¡œ ëª©ë¡ì— ì¡°íšŒë˜ë„ë¡ í•˜ì˜€ë‹¤.
  
<br>

<details>
<summary>íšŒì›ê´€ë¦¬ Controller</summary>
<div markdown="1">

```java
@Controller
public class AdminController {
	
	@Autowired
	private AdminService service;
	
	//..(ì¤‘ëµ)..

	// ì „ì²´ íšŒì› ì¡°íšŒ(ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜, ê²€ìƒ‰)
	@GetMapping("/admin/members/list")
	@ResponseBody
	public String selectMember(@RequestParam(value="cp", required=false, defaultValue="1") int cp,
				   @RequestParam(value="authFilter", required=false, defaultValue="0") String authFilter,
				   @RequestParam(value="statFilter", required=false, defaultValue="0") String statFilter,
				   @RequestParam(value="keyword", required=false) String keyword) {
		  
		Map<String, Object> paramMap = new HashMap<String, Object>();
		paramMap.put("authFilter", authFilter); // íŒë§¤ì ì¸ì¦ ìƒíƒœ í•„í„°
		paramMap.put("statFilter", statFilter); // ê³„ì • ìƒíƒœ í•„í„°
		
		if(keyword != null) {
			paramMap.put("keyword", keyword); // ê²€ìƒ‰ì–´
		}
		
		
		Map<String, Object> map = new HashMap<String, Object>();

		// ì „ì²´ íšŒì› ì •ë³´ ì¡°íšŒ + í˜ì´ì§€ë„¤ì´ì…˜ + ì •ë ¬
		map = service.selectMember(paramMap, cp);
	
		return new Gson().toJson(map);
	}
	
	//..(ì¤‘ëµ)..
}
```

</div>
</details>
	
<details>
<summary>íšŒì›ê´€ë¦¬ Service</summary>
<div markdown="1">

```java
@Service
public class AdminServiceImpl implements AdminService{
	
	@Autowired
	private AdminDAO dao;
	
	//..(ì¤‘ëµ)..
	
	// ì „ì²´ íšŒì› ì¡°íšŒ (ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜, ê²€ìƒ‰)
	@Override
	public Map<String, Object> selectMember(Map<String, Object> paramMap, int cp) {


		/* í˜ì´ì§€ë„¤ì´ì…˜ */
		// 1. ì „ì²´ ê°œìˆ˜ë¥¼ ê°€ì ¸ì˜´.
		int memberListCount = dao.memberListCount(paramMap);

		// 2. ê°€ì ¸ì˜¨ ê°œìˆ˜ì™€ í˜„ì¬ í˜ì´ì§€ë¥¼ ì´ìš©í•´ì„œ í˜ì´ì§€ë„¤ì´ì…˜ ê°ì²´ ìƒì„±
		Pagination pagination = new Pagination(memberListCount, cp, 15);

		// 3. í˜ì´ë„¤ì´ì…˜ ê°ì²´ë¥¼ ìƒì„±í•´ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
		// ì „ì²´ íšŒì› ì¡°íšŒ(ì •ë ¬ í¬í•¨)
		List<Admin> memberList = dao.selectMember(paramMap, pagination);

		Map<String, Object> map = new HashMap<String, Object>();
		map.put("memberListCount", memberListCount);
		map.put("pagination", pagination);
		map.put("memberList", memberList);


		return map;
	}
	
	//..(ì¤‘ëµ)..

}
```

</div>
</details>


<details>
<summary>íšŒì›ê´€ë¦¬ DAO</summary>
<div markdown="1">

```java
@Repository
public class AdminDAO {
	
	@Autowired
	private SqlSessionTemplate sqlSession;
	
	//..(ì¤‘ëµ)..
	
	/** ì „ì²´ íšŒì› ì¡°íšŒ(í˜ì´ì§€ë„¤ì´ì…˜, ì •ë ¬ í¬í•¨)
	 * @param paramMap
	 * @param pagination
	 * @return
	 */
	public List<Admin> selectMember(Map<String, Object> paramMap, Pagination pagination) {

		int offset = (pagination.getCurrentPage() -1) * 15;
		RowBounds rowBounds = new RowBounds(offset, 15);

		return sqlSession.selectList("adminMapper.selectMemberList", paramMap, rowBounds);
	}
	
	//..(ì¤‘ëµ)..
	
}
```

</div>
</details>
	
	
	
<details>
<summary>íšŒì›ê´€ë¦¬ mapper</summary>
<div markdown="1">

```xml
<!-- ì „ì²´ íšŒì› ì •ë³´ ì¡°íšŒ (ì •ë ¬ ë³„ë¡œ í¬í•¨) -->
<select id="selectMemberList" resultMap="admin_rm">
SELECT *
FROM (SELECT 
		(CASE 
			WHEN REPORT_TYPE = 'M' THEN 'M'
			WHEN REPORT_TYPE IS NULL THEN NULL
			ELSE NULL
		END)REPORT_TYPE,
		RANK() OVER(PARTITION BY REPORT_TYPE, REPORT_TARGET_NO ORDER BY REPORT_NO DESC) AS RANKING,
		RANK() OVER(PARTITION BY MEMBER_NO ORDER BY REPORT_TYPE DESC) AS DUPL_FLAG,
		MEMBER_NO, REPORT_TARGET_NO,
		MEMBER_ID, MEMBER_NAME, MEMBER_NICKNAME, MEMBER_TEL, MEMBER_DEL_FL, SIGNUP_DATE, AUTHORITY, PROFILE_IMG, MEMBER_BIRTH,
		REPLACE(MEMBER_ADDRESS, ',,', ' ') MEMBER_ADDRESS, DEFAULT_FL, FARM_IMG, REPORT_NO, REPORT_MEMBER_NO, REPORT_REASON, REPORT_DATE, 				REPORT_PENALTY, 
		PROCESS_DATE, REPORT_CONTENT
	FROM MEMBER 
	LEFT JOIN ADDRESS USING(MEMBER_NO)
	LEFT JOIN SELLER USING(MEMBER_NO)
	LEFT JOIN REPORT ON (MEMBER_NO = REPORT_TARGET_NO)
	WHERE MEMBER_ID != 'admin'
	AND DEFAULT_FL = 'Y'
	ORDER BY MEMBER_NO)
WHERE RANKING = 1 <!--ëˆ„ì  ì‹ ê³  ì¤‘ ì œì¼ ìµœê·¼ ê°’ ê°€ì ¸ì˜¤ê¸° -->
AND DUPL_FLAG = 1 <!--reportTargetNoê°€ ê°™ì„ ë•Œ ì‹ ê³  íƒ€ì… 'M'ì¸ ê²½ìš°ë§Œ ê°€ì ¸ì˜¤ê¸° -->
<if test='authFilter==0 and statFilter==0'> <!--ì „ì²´ -->
</if>
<if test='authFilter==1'> <!--íŒë§¤ìì¸ì¦: ë¯¸ë“±ë¡ -->
	AND AUTHORITY = 0
</if>		
<if test='authFilter==2'> <!--íŒë§¤ìì¸ì¦: íŒë§¤ì -->
	AND AUTHORITY = 1
</if>
<if test='authFilter==3'> <!--íŒë§¤ìì¸ì¦: ì¸ì¦ëŒ€ê¸° -->
	AND AUTHORITY = 3
</if>
<if test='authFilter==4'> <!--íŒë§¤ìì¸ì¦: ì¸ì¦ë³´ë¥˜ -->
	AND AUTHORITY = 4
</if>

<if test='statFilter==1'> <!--ìƒíƒœ: í™œë™ì¤‘ -->
	AND MEMBER_DEL_FL = 'N'
	AND (REPORT_PENALTY IS NULL
	OR REPORT_PENALTY = 'N'
	OR REPORT_PENALTY = 'A')
	AND REPORT_TYPE = 'M'				
</if>
<if test='statFilter==2'> <!--ìƒíƒœ: ì •ì§€ -->
	AND MEMBER_DEL_FL = 'N'
	AND REPORT_PENALTY = 'Y' 
	AND PROCESS_DATE IS NOT NULL
	AND REPORT_TYPE = 'M'
</if>
<if test='statFilter==3'> <!--ìƒíƒœ: ê°•ì œ íƒˆí‡´ -->
	AND MEMBER_DEL_FL = 'Y'
</if>
<if test='keyword != null'>
	AND (LOWER(MEMBER_ID) LIKE LOWER('%${keyword}%')
	OR LOWER(MEMBER_NICKNAME) LIKE LOWER('%${keyword}%')
	OR MEMBER_NO LIKE ('%${keyword}%'))
</if>
</select>
```

</div>
</details>

<br>
<details>
<summary>íšŒì›ê´€ë¦¬ JS (axios)</summary>
<div markdown="1">

```javascript

/** ì „ì²´ íšŒì› ì •ë³´ ì¡°íšŒ í•¨ìˆ˜ */
const selectMemberList = (cp) => {
    axios.get("/admin/members/list", {
        params: { "cp": cp, 
		"authFilter": authFilter,
		"statFilter": statFilter, 
		"keyword": keyword}
    })
    .then((response) => {
        const map = response.data;
        printMemberList(map.memberList, map.pagination);
    }).catch(() => {
        console.log("íšŒì› ì •ë³´ ì¡°íšŒ ì‹¤íŒ¨");
    });
}

//..(ì¤‘ëµ)..
```

</div>
</details>

[â–¶ íšŒì› ê´€ë¦¬ JS ì „ì²´ ì½”ë“œ](https://github.com/luejenie/FarmFarm/blob/main/FarmFarm/src/main/webapp/resources/js/admin/adminMember.js)	
	
<br>
[+]
<br>
	
[â–¶ íŒë§¤ì ì¸ì¦ Controller](https://github.com/luejenie/FarmFarm/blob/main/FarmFarm/src/main/java/edu/kh/farmfarm/admin/controller/AdminSellerAuthController.java#L59)<br>
[â–¶ ì‹ ê³  ë‚´ì—­ ê´€ë¦¬ Controller](https://github.com/luejenie/FarmFarm/blob/main/FarmFarm/src/main/java/edu/kh/farmfarm/admin/controller/AdminReportController.java)

<br>
	
#### (2) ëŒ€ìƒë³„ ì‹ ê³  ì²˜ë¦¬ ê¸°ëŠ¥
  - ì‹ ê³ ëœ íšŒì› **ê°•ì œ íƒˆí‡´, ì •ì§€, ë°˜ë ¤**
  - ì‹ ê³ ëœ ê²Œì‹œê¸€, ëŒ“ê¸€ **ì‚­ì œ, ë°˜ë ¤**
  - <p>ê° ëŒ€ìƒë³„ë¡œ ë‹¤ë¥´ê²Œ ì²˜ë¦¬ë˜ì–´ì•¼ í–ˆìœ¼ë¯€ë¡œ ê°ê° ê¸°ëŠ¥ì„ ë‹¤ë¥´ê²Œ ë§Œë“¤ì—ˆë‹¤.<br>
    íŠ¹íˆ íŒë§¤ìì˜ ê²½ìš°, ì‹ ê³ ëœ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒì—ì„œ ê·¸ì¹˜ì§€ ì•Šê³ <br>
    íŒë§¤ìê°€ ì“´ íŒë§¤ê¸€ê¹Œì§€ ê°™ì´ ì‚­ì œë˜ì–´ì•¼ í–ˆê¸° ë•Œë¬¸ì— í•œ ë²ˆ ë” ì²˜ë¦¬ë¥¼ í•´ì£¼ì—ˆë‹¤.</p>

<br>
	
<details>
<summary>ì‹ ê³  ì²˜ë¦¬ Controller</summary>
<div markdown="1">

```java
@Controller
public class AdminProcessController {
	
	@Autowired
	private AdminProcessService service;
	
	// ê´€ë¦¬ìí˜ì´ì§€ - ì‹ ê³  ì²˜ë¦¬
	/*
	  ê³„ì • - ê°•ì œ íƒˆí‡´, ì •ì§€, ë°˜ë ¤
	  ê²Œì‹œê¸€ - ì‚­ì œ, ë°˜ë ¤
	  admin-mapper ê·¸ëŒ€ë¡œ ì‚¬ìš©
	 */
	
	
	// íšŒì› ê´€ë¦¬ - ê°•ì œ íƒˆí‡´ (ì‹ ê³  ë‚´ì—­ ì—†ì–´ë„ ê°€ëŠ¥)
	@PatchMapping("/admin/members/{memberNo}/kickout")
	@ResponseBody
	public int memberKickout(@PathVariable("memberNo") int memberNo) {
		return service.memberKickout(memberNo);
	}
	
	
	// ì‹ ê³  ê³„ì • - ê°•ì œíƒˆí‡´  // ì‹ ê³ ëœ íšŒì› ê°•ì œ íƒˆí‡´ + REPORT í…Œì´ë¸” ë³€ê²½í•˜ê¸° + íŒë§¤ìë©´ íŒë§¤ìƒí’ˆ ì§€ìš°ê¸°
	@PatchMapping("/report/M/{memberNo}/kickout")
	@ResponseBody
	public int reportMemberKickout(@PathVariable("memberNo") int memberNo, 
					@RequestParam(value="authority", required=false, defaultValue="0") int authority) {
		return service.reportMemberKickout(memberNo, authority);
	}
	
	
	// ì‹ ê³  ê³„ì • - ì •ì§€   // ìŠ¤ì¼€ì¥´ëŸ¬ë¡œ 7ì¼ ë’¤ì— í’€ê¸°
	@PatchMapping("/report/M/{memberNo}/suspension")
	@ResponseBody
	public int reportMemberBanned(@PathVariable("memberNo") int memberNo) {
		return service.reportMemberBanned(memberNo);
	}
	
	
	// ì‹ ê³  ê³„ì • - ë°˜ë ¤
	@PatchMapping("/report/M/{memberNo}/hold")
	@ResponseBody
	public int reportMemberLeave(@PathVariable("memberNo") int memberNo) {
		return service.reportMemberLeave(memberNo);
	}
	
	
	// ì‹ ê³  ê²Œì‹œê¸€(íŒë§¤ê¸€, ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€, ì»¤ë®¤ë‹ˆí‹° ëŒ“ê¸€) - ì‚­ì œ
	@PatchMapping("/report/{reportType}/{contentNo}/delete")
	@ResponseBody
	public int reportDeleteContent(@PathVariable("contentNo") int contentNo, 
					@PathVariable("reportType") String reportType) {
		return service.reportDeleteContent(contentNo, reportType);
	}
	
	
	// ì‹ ê³  ê²Œì‹œê¸€ - ë°˜ë ¤
	@PatchMapping("/report/{reportType}/{contentNo}/hold")
	@ResponseBody
	public int reportLeaveContent(@PathVariable("contentNo") int contentNo, 
				      @PathVariable("reportType") String reportType) {
		
		Map<String, Object> paramMap = new HashMap<String, Object>();
		paramMap.put("contentNo", contentNo);
		paramMap.put("reportType", reportType);
			
		return service.reportLeaveContent(paramMap);
	}
}

```

</div>
</details>
	
<details>
<summary>ì‹ ê³  ì²˜ë¦¬ Service</summary>
<div markdown="1">

```java
@Service
public class AdminProcessServiceImpl implements AdminProcessService{
	
	@Autowired
	private AdminProcessDAO dao;
	
	
	// ê´€ë¦¬ì í•„í„°
	// ê´€ë¦¬ìì¸ì§€ í™•ì¸
	@Override
	public int checkAdmin() {
		return dao.checkAdmin();
	}
	
	
	// íšŒì› ê°•ì œ íƒˆí‡´ (íšŒì›ê´€ë¦¬, ì‹ ê³ ë‚´ì—­x)
	@Override
	public int memberKickout(int memberNo) {
		return dao.memberKickout(memberNo);
	}

	
	// ì‹ ê³ ëœ íšŒì› ê°•ì œ íƒˆí‡´ (ì‹ ê³ ë‚´ì—­ O)
	@Override
	public int reportMemberKickout(int memberNo, int authority) {
		
		int result = 0;
		
		// ê°•ì œ íƒˆí‡´ ì‹œí‚¤ê³ 
		result = dao.memberKickout(memberNo);
		
		// ê°•ì œ íƒˆí‡´ê°€ ì„±ê³µí•œë‹¤ë©´
		if(result > 0) {
			// ì‹ ê³  ìƒíƒœ ë³€ê²½, ì‹ ê³  ì²˜ë¦¬ì¼ì ì¶”ê°€
			result = dao.changeReportStatus(memberNo);
			
			// íŒë§¤ì ê°•ì œ íƒˆí‡´ ì‹œ, íŒë§¤ê¸€ ì‚­ì œ
			if(authority == 1) {
				result = dao.deletePostofSeller(memberNo);
			}
		}
		
		return result;
	}
	
	
	// ì‹ ê³ ëœ íšŒì› ê³„ì • ì •ì§€
	@Override
	public int reportMemberBanned(int memberNo) {
		return dao.reportMemberBanned(memberNo);
	}
	
	
	// ì‹ ê³  ê³„ì • - ë°˜ë ¤
	@Override
	public int reportMemberLeave(int memberNo) {
		return dao.reportMemberLeave(memberNo);
	}	
	
	
	
	// ì‹ ê³  ê²Œì‹œê¸€ - ì‚­ì œ
	@Override
	public int reportDeleteContent(int contentNo, String reportType) {
		
		int result = 0;
		
		// ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ ì‚­ì œ
		if(reportType.equals("B")) {
			result = dao.reportDeleteBoard(contentNo);
		
		// íŒë§¤ê¸€ ì‚­ì œ
		} else if(reportType.equals("P")) {
			result = dao.reportDeletePost(contentNo);

		// ëŒ“ê¸€
		} else if(reportType.equals("C")) {
			result = dao.reportDeleteComment(contentNo);
		}
		
		Map<String, Object> paramMap = new HashMap<String, Object>();
		paramMap.put("contentNo", contentNo);
		paramMap.put("reportType", reportType);
		
		// ì‚­ì œ í›„ ì‹ ê³  ìƒíƒœ ë³€ê²½, ì²˜ë¦¬ ì¼ì ì¶”ê°€
		if(result > 0) {
			result = dao.changeReportStatusCt(paramMap);
		}
		
		return result;
	}
	
	
	// ì‹ ê³  ê²Œì‹œê¸€ - ë°˜ë ¤
	@Override
	public int reportLeaveContent(Map<String, Object> paramMap) {
		return dao.reportLeaveContent(paramMap);
	}	
	
	
	//-----------------------------------------------
	
	// ì •ì§€ëœ ê³„ì • ë¦¬ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸° (ìŠ¤ì¼€ì¥´ë§)
	@Override
	public List<Admin> selectBannedAccountList() {
		return dao.selectBannedAccountList();
	}
	

	// ì •ì§€ëœ ê³„ì • í™œì„±í™” (ìŠ¤ì¼€ì¥´ë§)
	@Override
	public int activateAccount(int targetNo) {
		return dao.activateAccount(targetNo);
	}
}
```

</div>
</details>
	
<br>

[â–¶ì‹ ê³  ëŒ€ìƒ ì²˜ë¦¬ DAO](https://github.com/luejenie/FarmFarm/blob/main/FarmFarm/src/main/java/edu/kh/farmfarm/admin/model/dao/AdminProcessDAO.java) <br>
[â–¶ì‹ ê³  ëŒ€ìƒ ì²˜ë¦¬ mapper](https://github.com/luejenie/FarmFarm/blob/main/FarmFarm/src/main/resources/mappers/adminReport-mapper.xml#L368-L468)

<br>

---
	
</div>
</details>		
	
<br>	
 
<details>
<summary><b>4.3. @Scheduledë¥¼ í™œìš©í•˜ì—¬ ì •ì§€ ê³„ì • ìë™ í™œì„±í™”</b></summary>
<div markdown="1">

<br>
	
- íšŒì›ì´ ì‹ ê³  ë‹¹í–ˆì„ ê²½ìš°, ê³„ì •ì„ 7ì¼ ê°„ ì •ì§€ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. <br>
- @Scheduledë¥¼ í™œìš©í•˜ì—¬, ê³„ì •ì´ ì •ì§€ëœ ì¼ìê°€ ì •ì§€ëœ ì¼ìì˜ 7ì¼ì„ ë„˜ì—ˆì„ ê²½ìš°,<br>
  ìë™ìœ¼ë¡œ í™œì„±í™”ë˜ë„ë¡ í•˜ì˜€ë‹¤.
 <br>
 
  [â–¶ Controller](https://github.com/luejenie/FarmFarm/blob/main/FarmFarm/src/main/java/edu/kh/farmfarm/admin/controller/BannedAccountActivateScheduling.java)
	
	
---
	
</div>
</details>		

<br>
	
<details>
<summary><b>4.4. Chart.jsë¥¼ í™œìš©í•œ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ê·¸ë˜í”„ êµ¬í˜„</b></summary>
<div markdown="1">
	
![](https://user-images.githubusercontent.com/110653573/222223557-1e67c613-2ebd-4d30-b897-4e76a429af04.png)
<br>

[â–¶ ëŒ€ì‹œë³´ë“œ Controller](https://github.com/luejenie/FarmFarm/blob/main/FarmFarm/src/main/java/edu/kh/farmfarm/admin/controller/AdminController.java#L39-L71) <br>
[â–¶ ëŒ€ì‹œë³´ë“œ DAO](https://github.com/luejenie/FarmFarm/blob/main/FarmFarm/src/main/java/edu/kh/farmfarm/admin/model/dao/AdminDAO.java#L35)
<br>
[â–¶ ëŒ€ì‹œë³´ë“œ JS](https://github.com/luejenie/FarmFarm/blob/main/FarmFarm/src/main/webapp/resources/js/admin/dashboard.js)
	
</div>
</details>	
	


</br></br>

## 5. íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

<br>

<details>
<summary><b>5.1. Oracle Cloud í˜¸ìŠ¤íŒ… ì¤‘ ì˜ˆì™¸ ë°œìƒ</b></summary>
<div markdown="1">
<!-- ### 5.1. Oracle Cloud í˜¸ìŠ¤íŒ… ì¤‘ ì˜ˆì™¸ ë°œìƒ -->
<br>

- Oracle Cloud FarmFarm í”„ë¡œì íŠ¸ íŒŒì¼ì„ í˜¸ìŠ¤íŒ…í•˜ëŠ” ë„ì¤‘ 
- ê´€ë¦¬ìí˜ì´ì§€ ëŒ€ì‹œë³´ë“œì˜ ê·¸ë˜í”„ê°€ ë‚˜ì˜¤ì§€ ì•Šì€ ìƒí™©ì´ ë°œìƒí•˜ì˜€ë‹¤.
- ë¡œì»¬ì—ì„œ ì„œë²„ë¥¼ ëŒë ¸ì„ ê²½ìš°ì—ëŠ” ë¬¸ì œ ì—†ì´ ì§„í–‰ë˜ì—ˆê¸° ë•Œë¬¸ì— íŒ€ì› ëª¨ë‘ ì›ì¸ì„ ì°¾ì§€ ëª»í•˜ëŠ” ìƒí™©ì—ì„œ
- ì›ì¸ì€ Chart.jsë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•œ ê°€ì…, ì£¼ë¬¸ ìˆ˜ì˜ **SQLë¬¸ì˜ WHEREì ˆ**ì¸ ê²ƒì„ ë°œê²¬í•˜ì˜€ë‹¤.

</br>

<details>
<summary><b>ê¸°ì¡´ ì½”ë“œ</b></summary>
<div markdown="1">

~~~xml
  <select id="selectOrderGraph" resultMap="graph_rm">
	  SELECT TO_CHAR(b.OD, 'MM-DD') AS ORDER_DATE
	    	 , NVL(SUM(a.cnt), 0) AS ORDER_COUNT
		FROM ( SELECT TO_CHAR(ORDER_DATE, 'YYYY-MM-DD') AS ORDER_DATE
		              ,COUNT(*) cnt
		        FROM "ORDER"
		        WHERE ORDER_DATE BETWEEN SYSDATE-31
		                             AND SYSDATE
		        GROUP BY ORDER_DATE
		        ) a
		      , (SELECT (TO_DATE(SYSDATE-30,'YY-MM-DD') + LEVEL) AS OD
				FROM dual 
				<![CDATA[CONNECT BY LEVEL <= 31]]>) b
		WHERE b.OD = a.ORDER_DATE(+)
		GROUP BY b.OD
		ORDER BY b.OD
  </select>
~~~

</div>
</details>

</br>

- ê¸°ì¡´ ì½”ë“œì˜ WHEREì ˆì„ ë³´ë©´ **CHAR íƒ€ì… ë°ì´í„°ì™€ DATE íƒ€ì… ë°ì´í„°ë¥¼ í˜•ë³€í™˜ ì—†ì´ ë¹„êµ**í•˜ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.
- ë¡œì»¬ ì„œë²„ í™˜ê²½ì—ì„œëŠ” íƒ€ì…ì´ ë‹¤ë¥¸ ë‚ ì§œ ë°ì´í„°ì˜ ë¹„êµê°€ ê°€ëŠ¥í–ˆì§€ë§Œ, Linux í™˜ê²½ì—ì„œ Oracle Cloudì— í˜¸ìŠ¤íŒ… ëœ í˜ì´ì§€ì—ì„œëŠ” ë‘ ë°ì´í„°ì˜ íƒ€ì…ì´ ë‹¬ë¼ ë¹„êµê°€ ì–´ë ¤ì› ë‹¤.
- íƒ€ì…ì„ ìˆ˜ì •í•˜ëŠ” ê²ƒìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ì§€ ì•Šê³ , íŒ€ì›ë“¤ê³¼ ê°™ì´ ê³ ë¯¼í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ SQLë¬¸ì„ ê°œì„ í•  ìˆ˜ ìˆì—ˆë‹¤.

</br>

<details>
<summary><b>ê°œì„ ëœ ì½”ë“œ</b></summary>
<div markdown="1">

~~~xml
  <select id="selectOrderGraph" resultMap="graph_rm">
	  <![CDATA[
		SELECT ORDER_DATE, 
            (SELECT COUNT(*) 
            FROM "ORDER" o 
            WHERE TO_CHAR(o.ORDER_DATE , 'YYYY-MM-DD') = a.ORDER_DATE) ORDER_COUNT
	 	FROM (SELECT TO_CHAR(SYSDATE - 31 + LEVEL, 'YYYY-MM-DD') ORDER_DATE 
		FROM DUAL CONNECT BY LEVEL <=31) a]]>
  </select>
~~~

</div>
</details>

---

</div>
</details>

</br>
	
<details>
<summary><b>5.2. RESTFUL APIë¡œ ë¦¬íŒ©í† ë§ ì§„í–‰</b></summary>
<div markdown="1">
<br>

- ê¸°ì¡´ì—ëŠ” POST/GET mapping ë‘ ê°€ì§€ë§Œ ì‚¬ìš©í•˜ì˜€ë‹¤. <br>
- ì´ëŸ¬ë‹¤ë³´ë‹ˆ ê° ìš”ì²­ì˜ ë™ì‘ì„ ëª…í™•íˆ í•˜ëŠ”ë° í•œê³„ê°€ ìˆì—ˆë‹¤.

</br>

<details>
<summary><b>ê¸°ì¡´ ì½”ë“œ</b></summary>
<div markdown="1">

```java
// ì‹ ê³  ê²Œì‹œê¸€(íŒë§¤ê¸€, ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€, ì»¤ë®¤ë‹ˆí‹° ëŒ“ê¸€) - ì‚­ì œ
@GetMapping("/report/deleteContent")
@ResponseBody
public int reportDeleteContent(int hiddenContentNo, String reportType) {
	return service.reportDeleteContent(hiddenContentNo, reportType);
}
```
</div>
</details>
	
<br>

  - ì˜ˆë¥¼ ë“¤ì–´, ê²Œì‹œê¸€, ëŒ“ê¸€ ë“±ì„ ì‚­ì œí•˜ëŠ” ì½”ë“œì˜ ê²½ìš° <br> ê¸°ì¡´ì˜ ì½”ë“œëŠ” ì‚­ì œë˜ëŠ” ì£¼ì²´ë¥¼ ì•Œì•„ë³´ê¸° í˜ë“¤ê³  ì–´ë–¤ ë™ì‘ì„ ì§„í–‰í–ˆëŠ”ì§€ ì§ê´€ì ìœ¼ë¡œ ì•Œì•„ë³´ê¸° ì–´ë ¤ì› ë‹¤.
  - ì´ì— ë§¤í•‘ ì£¼ì†Œì— ì‹ ê³  ëŒ€ìƒì˜ íƒ€ì…(reportType)ê³¼ ì‹ ê³  ëŒ€ìƒì˜ ì‹ë³„ ë²ˆí˜¸(contentNo)ì„ ë°›ì•„ì™€ ì•Œë ¤ ì£¼ê³ , 
  - PostMappingì„ PatchMappingìœ¼ë¡œ ë°”ê¾¸ì–´ ì¼ë¶€ ìˆ˜ì •í•œë‹¤ëŠ” ê²ƒì„ ì•Œë¦¬ë„ë¡ í•˜ì˜€ë‹¤.

<br>

<details>
<summary><b>ê°œì„ ëœ ì½”ë“œ</b></summary>
<div markdown="1">

```java
// ì‹ ê³  ê²Œì‹œê¸€(íŒë§¤ê¸€, ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€, ì»¤ë®¤ë‹ˆí‹° ëŒ“ê¸€) - ì‚­ì œ
@PatchMapping("/report/{reportType}/{contentNo}/delete")
@ResponseBody
public int reportDeleteContent(@PathVariable("contentNo") int contentNo, 
			       @PathVariable("reportType") String reportType) {
	return service.reportDeleteContent(contentNo, reportType);
}
```

</div>
</details>

---

</div>
</details>
	
</br>

<details>
<summary><b>5.3. ë°˜ë³µë˜ëŠ” ì½”ë“œ ê°œì„ </b></summary>
<div markdown="1">

<br> 

  - ê¸°ì¡´ì—ëŠ” ì¡°ê±´ì— ì°¨ì´ê°€ ìˆìœ¼ë©´, ifë¬¸ìœ¼ë¡œ ì¼ì¼ì´ ë¶„ë¦¬í•˜ì—¬ ì‘ì„±í•˜ì˜€ë‹¤.
  - ê·¸ëŸ¬ë‚˜ ì´ì™€ ê°™ì€ ê²½ìš°, ì¡°ê±´ì—ë§Œ ì°¨ì´ê°€ ì¡´ì¬í•˜ê³  ë¹„ìŠ·í•œ ì½”ë“œê°€ ë°˜ë³µë˜ëŠ” ìƒí™©ì´ ë°œìƒí•˜ì˜€ë‹¤.

</br>

<details>
<summary><b>ê¸°ì¡´ ì½”ë“œ</b></summary>
<div markdown="1">

~~~java
 reportBtn.addEventListener("click", () => {
   
    // íŒë§¤ì ì‹ ê³ 
    if(pathname == "seller") {
        if(reportTargetNo == 0){
            messageModalOpen("ê´€ë¦¬ìëŠ” ì‹ ê³  ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤.");
        } else {
            // ì‹ ê³  ëª¨ë‹¬ ì—´ë¦¬ê¸°
            openReportModal();
            reportType = "M";
            reportTargetNo = targetNo;
        }
    }


    // ì±„íŒ…ë°© íšŒì› ì‹ ê³ (íŒë§¤ì, ì¼ë°˜íšŒì› ëª¨ë‘ ì‹ ê³  ê°€ëŠ¥, authorityë¡œ êµ¬ë¶„)
    if(pathname == "chat") {
        if(reportTargetNo == 0){
            messageModalOpen("ê´€ë¦¬ìëŠ” ì‹ ê³  ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤.");
        } else {
            // ì‹ ê³  ëª¨ë‹¬ ì—´ë¦¬ê¸°
            openReportModal();
            reportType = "M";
            reportTargetNo = selectedChatNo;  //chatContext.jsì—ì„œ ì„ ì–¸í•œ ë³€ìˆ˜
        }
    }


    // íŒë§¤ ê²Œì‹œê¸€ ì‹ ê³  (ì‚¬ê³ íŒ”ê³ )
    if(pathname == "post"){
        if(reportTargetNo == 0){
            messageModalOpen("ê´€ë¦¬ìëŠ” ì‹ ê³  ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤.");
        } else {
            // ì‹ ê³  ëª¨ë‹¬ ì—´ë¦¬ê¸°
            openReportModal();
            reportType = "P";
            reportTargetNo = targetNo;  //postNo
        }
    }
});

~~~

</div>
</details>

</br>

  - ê³µí†µëœ êµ¬ë¬¸ì„ í•˜ë‚˜ë¡œ ë¬¶ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.
  - messageModalOpen()í•¨ìˆ˜ì™€ openReportModal() í•¨ìˆ˜ê°€ ì‘ë™ë˜ëŠ” ì¡°ê±´ì´ ë™ì¼í•˜ê¸° ë•Œë¬¸ì—
  - ë¨¼ì € ë‘ í•¨ìˆ˜ê°€ ì‘ë™ë˜ëŠ” ì¡°ê±´ì„ í•˜ë‚˜ë¡œ ë¬¶ê³ 
  - ì„¸ë¶€ ì¡°ê±´ì„ switchë¬¸ì„ ì´ìš©í•˜ì—¬ pathnameì— ë”°ë¼ ê²°ê³¼ë¥¼ ë‹¤ë¥´ê²Œ í•˜ì˜€ë‹¤.

<br>

<details>
<summary><b>ê°œì„ ëœ ì½”ë“œ</b></summary>
<div markdown="1">

```java

 reportBtn.addEventListener("click", () => {

    if(reportTargetNo == 0){
        messageModalOpen("ê´€ë¦¬ìëŠ” ì‹ ê³  ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤.");
    } else{
        openReportModal();
        switch(pathname){
            case 'seller': reportType = 'M'; reportTargetNo = targetNo; break;
            case 'post': reportType = 'P'; reportTargetNo = targetNo; break;
            case 'chat': reportType = 'M'; reportTargetNo = selectedChatNo; break;
        }
    }
 }
      
```

</div>
</details>

</div>
</details>
	
    
</br>

<!--
## 6. íšŒê³  / ëŠë‚€ì 
>í”„ë¡œì íŠ¸ ê°œë°œ íšŒê³  ê¸€
-->
